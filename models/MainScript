--SELECCIONA EL SO
platf=simGetIntegerParameter(sim_intparam_platform)
if (platf==0) then
	pluginFile='v_repExtRemoteApi.dll'
end
if (platf==1) then
	pluginFile='libv_repExtRemoteApi.dylib'
end
if (platf==2) then
	pluginFile='libv_repExtRemoteApi.so'
end


-- SE REVISA QUE EXISTA EL API
moduleName=0
moduleVersion=0
index=0
pluginNotFound=true
while moduleName do
	moduleName,moduleVersion=simGetModuleName(index)
	if (moduleName=='RemoteApi') then
		pluginNotFound=false
	end
	index=index+1
end

--NUEMERO DEL PUERTO
portNb=19999

if (pluginNotFound) then
	simDisplayDialog('Error',"Remote Api plugin was not found. ('"..pluginFile.."')&&nSimulation will not run properly",sim_dlgstyle_ok,true,nil,{0.8,0,0,0,0,0},{0.5,0,0,1,1,1})
else
	simExtRemoteApiStart(portNb) 
end